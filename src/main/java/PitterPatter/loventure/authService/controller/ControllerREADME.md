AuthController.java (μ΄μμ© μ»¨νΈλ΅¤λ¬) π“΅

μ„¤λ…: μ‹¤μ  μ„λΉ„μ¤μ—μ„ μ‚¬μ©λλ” ν•µμ‹¬ μΈμ¦ λ° μ‚¬μ©μ κ΄€λ ¨ APIλ¥Ό μ κ³µν•©λ‹λ‹¤. /api/auth κ²½λ΅μ λ¨λ“  μ—”λ“ν¬μΈνΈλ” SecurityConfigμ— μν•΄ λ³΄νΈλ©λ‹λ‹¤.

μ£Όμ” API μ—”λ“ν¬μΈνΈ

POST /api/auth/refresh: λ§λ£λ Access Tokenμ„ κ°±μ‹ ν•κΈ° μ„ν•΄ Refresh Tokenμ„ λ°›μ•„ μƒλ΅μ΄ ν† ν°λ“¤μ„ λ°κΈ‰ν•©λ‹λ‹¤.

GET /api/auth/me: ν„μ¬ λ΅κ·ΈμΈλ μ‚¬μ©μμ μƒμ„Έ μ •λ³΄λ¥Ό μ΅°νν•©λ‹λ‹¤. Authorization ν—¤λ”μ ν† ν°μ„ κΈ°λ°μΌλ΅ μ‚¬μ©μλ¥Ό μ‹λ³„ν•©λ‹λ‹¤.

POST /api/auth/logout: μ‚¬μ©μμ λ΅κ·Έμ•„μ›ƒμ„ μ²λ¦¬ν•©λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ΄ APIλ¥Ό νΈμ¶ν• ν›„ μμ²΄μ μΌλ΅ μ €μ¥λ ν† ν°μ„ νκΈ°ν•΄μ•Ό ν•©λ‹λ‹¤.

GET /api/auth/status: νΉμ • μ΄λ©”μΌμ΄ μ΄λ―Έ κ°€μ…λμ–΄ μλ”μ§€, κ°€μ…λ κ²½μ° μ–΄λ–¤ μ†μ… λ΅κ·ΈμΈ λ°©μ‹μΈμ§€ μƒνƒλ¥Ό ν™•μΈν•©λ‹λ‹¤.

POST /api/auth/login/{provider}: OAuth2 λ΅κ·ΈμΈμ„ μ²λ¦¬ν•©λ‹λ‹¤. μ κ³µλ provider (google λλ” kakao)λ¥Ό μ‚¬μ©ν•μ—¬ μ‚¬μ©μλ¥Ό μΈμ¦ν•κ³ , κΈ°μ΅΄ μ‚¬μ©μλ©΄ μ •λ³΄λ¥Ό μ΅°νν•κ±°λ‚ μ‹ κ· μ‚¬μ©μλ©΄ μƒμ„±ν•©λ‹λ‹¤. μ„±κ³µ μ‹ JWT ν† ν°(access token, refresh token)κ³Ό μ‚¬μ©μ μ •λ³΄λ¥Ό λ°ν™ν•©λ‹λ‹¤.

POST /api/auth/signup: μ‹ κ· νμ›μ„ κ°€μ…μ‹ν‚µλ‹λ‹¤. μ΄λ©”μΌκ³Ό providerId μ¤‘λ³µμ„ ν™•μΈν•κ³ , λ¬Έμ κ°€ μ—†μΌλ©΄ μƒ μ‚¬μ©μλ¥Ό μƒμ„±ν•κ³  μ €μ¥ν•©λ‹λ‹¤.

UserController.java (μ΄μμ© μ»¨νΈλ΅¤λ¬) π¤

μ„¤λ…: μ‚¬μ©μ κ³„μ • κ΄€λ¦¬μ™€ κ΄€λ ¨λ APIλ¥Ό λ‹΄λ‹Ήν•©λ‹λ‹¤.

μ£Όμ” API μ—”λ“ν¬μΈνΈ

DELETE /api/users/{userId}: νΉμ • userIdμ νμ›μ„ μ‚­μ ν•©λ‹λ‹¤. μ‚­μ  μ”μ²­μ„ ν• μ‚¬μ©μκ°€ λ³ΈμΈ κ³„μ •μΈμ§€ ν™•μΈν•λ©°, νμ›μ„ λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μ†ν”„νΈ μ‚­μ (DEACTIVATED μƒνƒλ΅ λ³€κ²½) μ²λ¦¬ν•©λ‹λ‹¤.

OnboardingController.java (μ΄μμ© μ»¨νΈλ΅¤λ¬) π€

μ„¤λ…: νμ›κ°€μ… ν›„ μ¶”κ°€ μ •λ³΄λ¥Ό μ…λ ¥ν•λ” μ¨λ³΄λ”© μ μ°¨λ¥Ό μ²λ¦¬ν•©λ‹λ‹¤.

μ£Όμ” API μ—”λ“ν¬μΈνΈ

POST /api/onboarding/me: λ΅κ·ΈμΈλ μ‚¬μ©μμ μ¨λ³΄λ”© μ •λ³΄λ¥Ό μ—…λ°μ΄νΈν•©λ‹λ‹¤. μ„±κ³µ μ‹ μ‚¬μ©μ IDμ™€ μ¨λ³΄λ”© μ™„λ£ μƒνƒλ¥Ό λ°ν™ν•©λ‹λ‹¤.

CoupleController.java (μ΄μμ© μ»¨νΈλ΅¤λ¬) π’–

μ„¤λ…: μ»¤ν” κ΄€λ ¨ κΈ°λ¥μ„ κ΄€λ¦¬ν•λ” APIλ¥Ό μ κ³µν•©λ‹λ‹¤.

μ£Όμ” API μ—”λ“ν¬μΈνΈ

POST /api/couples/rooms: μƒλ΅μ΄ μ»¤ν”λ£Έμ„ μƒμ„±ν•©λ‹λ‹¤. μ”μ²­μμ userIdλ¥Ό JWTμ—μ„ μ¶”μ¶ν•μ—¬ μ‚¬μ©ν•©λ‹λ‹¤.

POST /api/couples/match: μ»¤ν” λ§¤μΉ­μ„ μ²λ¦¬ν•©λ‹λ‹¤. μ”μ²­μμ userIdλ¥Ό JWTμ—μ„ μ¶”μ¶ν•μ—¬ μ‚¬μ©ν•©λ‹λ‹¤.

DELETE /api/couples/{coupleId}: νΉμ • coupleIdμ— ν•΄λ‹Ήν•λ” μ»¤ν” λ§¤μΉ­μ„ μ·¨μ†ν•©λ‹λ‹¤.

POST /api/couples/{coupleId}/onboarding: μ»¤ν” μ¨λ³΄λ”© μ •λ³΄λ¥Ό μƒμ„±ν•κ±°λ‚ μμ •ν•©λ‹λ‹¤.

PATCH /api/couples/{coupleId}: μ»¤ν” μ •λ³΄λ¥Ό μμ •ν•©λ‹λ‹¤.